---
title: 'Posts API'
description: 'API endpoints for managing social media posts'
---

# Posts API

The Posts API allows you to manage social media posts in the StackForge platform. You can create, read, update, and delete posts across different social media platforms.

## Base URL

All API endpoints are relative to your application's base URL. In development, this is typically `http://localhost:3000`.

## Authentication

Most API endpoints require authentication through Clerk. Authenticated requests should include a valid session token.

## Rate Limiting

The API implements rate limiting to prevent abuse. Exceeding the rate limit will result in a 429 status code.

## Endpoints

### Get all posts

Retrieve posts with optional filtering and pagination.

- **URL**: `/api/posts`
- **Method**: `GET`
- **Description**: Retrieve posts with optional filtering and pagination
- **Query Parameters**:
  - `page` (optional): Page number (default: 1)
  - `limit` (optional): Number of posts to retrieve per page (default: 10, max: 100)
  - `status` (optional): Filter posts by status (published, scheduled, draft, failed)
  - `platform` (optional): Filter posts by platform (twitter, instagram, linkedin, facebook)
  - `search` (optional): Search posts by content
- **Response**: Object with posts array and pagination metadata

#### Example Request

```bash
curl -X GET "http://localhost:3000/api/posts?page=1&limit=10&status=published&platform=twitter"
```

#### Example Response

```json
{
  "data": [
    {
      "id": "1",
      "userId": "user1",
      "content": "Exciting news! Our new product launch is coming soon...",
      "platform": "twitter",
      "status": "published",
      "scheduledAt": null,
      "publishedAt": "2023-05-15T10:30:00Z",
      "engagement": 124,
      "likes": 80,
      "shares": 30,
      "comments": 14,
      "createdAt": "2023-05-15T09:00:00Z",
      "updatedAt": "2023-05-15T10:30:00Z"
    }
  ],
  "meta": {
    "page": 1,
    "limit": 10,
    "total": 1,
    "totalPages": 1
  }
}
```

### Get a specific post

Retrieve a specific post by ID.

- **URL**: `/api/posts/[id]`
- **Method**: `GET`
- **Description**: Retrieve a specific post by ID
- **Path Parameters**:
  - `id`: The ID of the post to retrieve
- **Response**: Post object

#### Example Request

```bash
curl -X GET "http://localhost:3000/api/posts/1"
```

#### Example Response

```json
{
  "id": "1",
  "userId": "user1",
  "content": "Exciting news! Our new product launch is coming soon...",
  "platform": "twitter",
  "status": "published",
  "scheduledAt": null,
  "publishedAt": "2023-05-15T10:30:00Z",
  "engagement": 124,
  "likes": 80,
  "shares": 30,
  "comments": 14,
  "createdAt": "2023-05-15T09:00:00Z",
  "updatedAt": "2023-05-15T10:30:00Z"
}
```

### Create a new post

Create a new post.

- **URL**: `/api/posts`
- **Method**: `POST`
- **Description**: Create a new post
- **Request Body**:
  ```json
  {
    "content": "string",
    "platform": "string",
    "scheduledAt": "datetime (optional)"
  }
  ```
- **Response**: Created post object

#### Example Request

```bash
curl -X POST "http://localhost:3000/api/posts" \
  -H "Content-Type: application/json" \
  -d '{
    "content": "Check out our new product!",
    "platform": "twitter",
    "scheduledAt": "2023-06-01T10:00:00Z"
  }'
```

#### Example Response

```json
{
  "id": "6",
  "userId": "user1",
  "content": "Check out our new product!",
  "platform": "twitter",
  "status": "draft",
  "scheduledAt": "2023-06-01T10:00:00Z",
  "publishedAt": null,
  "engagement": 0,
  "likes": 0,
  "shares": 0,
  "comments": 0,
  "createdAt": "2023-05-20T14:30:00Z",
  "updatedAt": "2023-05-20T14:30:00Z"
}
```

### Update a post

Update an existing post.

- **URL**: `/api/posts/[id]`
- **Method**: `PUT`
- **Description**: Update an existing post
- **Path Parameters**:
  - `id`: The ID of the post to update
- **Request Body**:
  ```json
  {
    "content": "string",
    "platform": "string",
    "status": "string",
    "scheduledAt": "datetime (optional)"
  }
  ```
- **Response**: Updated post object

#### Example Request

```bash
curl -X PUT "http://localhost:3000/api/posts/1" \
  -H "Content-Type: application/json" \
  -d '{
    "content": "Updated content for our product launch!",
    "status": "scheduled",
    "scheduledAt": "2023-06-01T15:00:00Z"
  }'
```

#### Example Response

```json
{
  "id": "1",
  "userId": "user1",
  "content": "Updated content for our product launch!",
  "platform": "twitter",
  "status": "scheduled",
  "scheduledAt": "2023-06-01T15:00:00Z",
  "publishedAt": null,
  "engagement": 124,
  "likes": 80,
  "shares": 30,
  "comments": 14,
  "createdAt": "2023-05-15T09:00:00Z",
  "updatedAt": "2023-05-20T14:45:00Z"
}
```

### Delete a post

Delete a post.

- **URL**: `/api/posts/[id]`
- **Method**: `DELETE`
- **Description**: Delete a post
- **Path Parameters**:
  - `id`: The ID of the post to delete
- **Response**: Success message

#### Example Request

```bash
curl -X DELETE "http://localhost:3000/api/posts/1"
```

#### Example Response

```json
{
  "message": "Post deleted successfully"
}
```

## Data Models

### Post

```json
{
  "id": "string",
  "userId": "string",
  "content": "string",
  "platform": "string",
  "status": "string",
  "scheduledAt": "datetime",
  "publishedAt": "datetime",
  "engagement": "number",
  "likes": "number",
  "shares": "number",
  "comments": "number",
  "createdAt": "datetime",
  "updatedAt": "datetime"
}
```

## Error Handling

The API uses standard HTTP status codes to indicate the success or failure of requests:

- `200`: Success
- `201`: Created
- `400`: Bad request
- `401`: Unauthorized
- `403`: Forbidden
- `404`: Not found
- `500`: Internal server error

Error responses include a JSON object with an error message:

```json
{
  "error": "Description of the error"
}
```

---
title: 'Deploy to Sherpa.sh'
description: 'Deploy your StackForge application to Sherpa.sh'
---

# Deploy to Sherpa.sh

This guide will help you deploy your StackForge application to Sherpa.sh - a high-performance, cost-effective platform for deploying Next.js applications.

## Overview

Sherpa.sh is a cost-effective platform for development teams who want to deploy Next.js applications without wasting time on infrastructure management.

## Deployment Steps

### 1. Import Project

1. Go to [sherpa.sh](https://sherpa.sh) and create a new account
2. Link the GitHub account/organization that contains your StackForge project repository

### 2. Configure Build Settings

Configure your build settings for StackForge. These settings are crucial for the project to deploy correctly:

1. Use Next.js as the framework preset
2. Use Bun for the install and build commands:
   - **Install Command**: `bun install`
   - **Build Command**: `bun run build`
3. Point the output directory to your project root
4. Point the root directory to your project root

### 3. Environment Variables

Set all required environment variables in the Sherpa.sh dashboard:

1. Go to your project settings in Sherpa.sh
2. Navigate to the environment variables section
3. Add each environment variable with the appropriate production values:

```env
# App Configuration
NEXT_PUBLIC_APP_NAME=YourAppName
NEXT_PUBLIC_APP_DOMAIN=https://yourdomain.com

# Database
DATABASE_URL=postgresql://user:password@host:port/database

# Clerk Authentication
NEXT_PUBLIC_CLERK_PUBLISHABLE_KEY=pk_live_XXXXXXXXXXXXXXXXXXXXXXXX
CLERK_SECRET_KEY=sk_live_XXXXXXXXXXXXXXXXXXXXXXXX
NEXT_PUBLIC_CLERK_SIGN_IN_URL=/auth/signin
NEXT_PUBLIC_CLERK_SIGN_UP_URL=/auth/signup
NEXT_PUBLIC_CLERK_SIGN_IN_FALLBACK_URL=/
NEXT_PUBLIC_CLERK_SIGN_UP_FALLBACK_URL=/

# Optional variables
RESEND_API_KEY=your_resend_api_key
```

## Sherpa.sh-Specific Features

### Performance Optimization

Sherpa.sh provides several performance optimizations out of the box:

1. **Global CDN**: Worldwide content delivery
2. **Automatic Caching**: Built-in caching mechanisms
3. **Edge Functions**: Fast serverless functions
4. **Image Optimization**: Automatic image optimization

### Cost-Effectiveness

Sherpa.sh is designed to be cost-effective for development teams:

1. **Pay-as-you-use pricing**: Only pay for what you use
2. **No infrastructure management**: Focus on development, not operations
3. **Automatic scaling**: Scale based on demand

## Troubleshooting

### Common Issues

1. **Build Failures**: Check logs for missing environment variables
2. **Environment Variables Not Set**: Ensure all required variables are configured
3. **Database Connection Issues**: Verify `DATABASE_URL` format and credentials
4. **Clerk Authentication Errors**: Check Clerk keys and domain settings

### Debugging Deployment Issues

1. **Check Build Logs**: Review detailed build logs in Sherpa.sh dashboard
2. **Verify Environment Variables**: Ensure all variables are correctly set
3. **Test Locally**: Verify the build works locally with `bun run build`

## Getting Help & Support

Sherpa.sh is a bootstrapped startup with a responsive team. If you need help:

1. Check the [Sherpa.sh documentation](https://sherpa.sh/docs)
2. Join the Makerkit Discord server where the Sherpa.sh founder is available as @Zach @ sherpa.sh
3. Message the founder directly for assistance with feature requests, questions, or issues

## Advanced Configuration

### Custom Domains

1. Go to your project settings in Sherpa.sh
2. Navigate to the custom domains section
3. Add your custom domain
4. Follow the DNS configuration instructions

### Analytics Integration

Add analytics for monitoring your application:

```bash
bun add @vercel/analytics
```

```tsx
// src/components/global/providers.tsx
'use client';
import { Analytics } from '@vercel/analytics/react';

export function Providers({ children }: { children: React.ReactNode }) {
  return (
    <>
      {children}
      <Analytics />
    </>
  );
}
```

## Security Considerations

### HTTPS Enforcement

Sherpa.sh automatically provides HTTPS for your application, but you can also enforce it:

```ts
// src/middleware.ts
import { NextResponse } from 'next/server';

export function middleware(request: Request) {
  const url = new URL(request.url);
  
  // Redirect HTTP to HTTPS in production
  if (
    process.env['NODE_ENV'] === 'production' &&
    url.protocol === 'http:'
  ) {
    return NextResponse.redirect(
      `https://${url.hostname}${url.pathname}`,
      301
    );
  }
  
  return NextResponse.next();
}
```

### Security Headers

Configure security headers for your deployment:

```ts
// next.config.mjs
export default {
  async headers() {
    return [
      {
        source: '/(.*)',
        headers: [
          {
            key: 'X-Frame-Options',
            value: 'DENY',
          },
          {
            key: 'X-Content-Type-Options',
            value: 'nosniff',
          },
          {
            key: 'Referrer-Policy',
            value: 'strict-origin-when-cross-origin',
          },
        ],
      },
    ];
  },
};
```

## Next Steps

<CardGroup cols={2}>

<Card
  title="Production Checklist"
  icon="check-circle"
  href="/going-to-production/production-checklist"
>
  Complete the production checklist
</Card>

<Card
  title="Environment Variables"
  icon="settings"
  href="/going-to-production/environment-variables"
>
  Configure all environment variables
</Card>

</CardGroup>
---
title: 'Deployment Options'
description: 'Choose the right deployment platform for your StackForge application'
---

# Deployment Options

StackForge is designed to be deployed to various hosting platforms. This guide covers the most popular deployment options and provides step-by-step instructions for each.

## Recommended Deployment Platforms

### Vercel (Recommended)

StackForge is optimized for Vercel deployment, offering the best performance and developer experience.

[Learn more about deploying to Vercel](/going-to-production/vercel)

#### Deployment Steps

1. **Connect your GitHub repository** to Vercel
2. **Configure environment variables** in the Vercel dashboard
3. **Set up your PostgreSQL database** connection
4. **Deploy your application**

#### Vercel Configuration

In your Vercel project settings:

```json
{
  "buildCommand": "bun run build",
  "outputDirectory": ".next",
  "installCommand": "bun install"
}
```

#### Environment Variables in Vercel

Add all required environment variables in the Vercel dashboard under **Settings > Environment Variables**:

- `NEXT_PUBLIC_APP_NAME`
- `NEXT_PUBLIC_APP_DOMAIN`
- `DATABASE_URL`
- `NEXT_PUBLIC_CLERK_PUBLISHABLE_KEY`
- `CLERK_SECRET_KEY`
- And any other required variables

#### Vercel-Specific Optimizations

StackForge includes Vercel-specific optimizations:

1. **Image Optimization**: Automatic image optimization
2. **Edge Functions**: Fast serverless functions
3. **Global CDN**: Worldwide content delivery
4. **Analytics**: Built-in performance monitoring

### Cloudflare Pages

Deploy to Cloudflare Pages for a cost-effective solution with excellent performance.

[Learn more about deploying to Cloudflare Pages](/going-to-production/cloudflare)

#### Deployment Steps

1. **Connect your Git repository** to Cloudflare Pages
2. **Set the Build command** to: `bun run build`
3. **Set the Build output directory** to: `.next`
4. **Configure environment variables** in the Cloudflare dashboard

#### Cloudflare Configuration

```bash
# Build settings
Build command: bun run build
Build output directory: .next
Root directory: /
```

#### Environment Variables in Cloudflare

Configure environment variables in the Cloudflare dashboard:

1. Go to your project settings
2. Navigate to "Settings" > "Environment variables"
3. Add each environment variable with the appropriate value

### Docker Deployment

Deploy using Docker for maximum flexibility and portability.

[Learn more about Docker deployment](/going-to-production/vps#docker-configuration)

#### Dockerfile

Create a Dockerfile for your StackForge application:

```dockerfile
# Dockerfile
FROM oven/bun:1 AS base

# Install dependencies
WORKDIR /app
COPY package.json bun.lock ./
RUN bun install --production

# Copy source code
COPY . .

# Build the application
RUN bun run build

# Production stage
FROM oven/bun:1-deps AS production

WORKDIR /app

# Copy built application
COPY --from=base /app/.next ./.next
COPY --from=base /app/node_modules ./node_modules
COPY --from=base /app/package.json ./package.json

# Expose port
EXPOSE 3000

# Start the application
CMD ["bun", "run", "start"]
```

#### Building and Running

Build and run your Docker container:

```bash
# Build the image
docker build -t stackforge .

# Run the container
docker run -p 3000:3000 stackforge
```

#### Docker Compose

For local development with Docker Compose:

```yaml
# docker-compose.yml
version: '3.8'
services:
  app:
    build: .
    ports:
      - '3000:3000'
    environment:
      - DATABASE_URL=postgresql://user:password@db:5432/stackforge
      - NEXT_PUBLIC_APP_NAME=StackForge
    depends_on:
      - db

  db:
    image: postgres:15
    environment:
      - POSTGRES_DB=stackforge
      - POSTGRES_USER=user
      - POSTGRES_PASSWORD=password
    volumes:
      - postgres_data:/var/lib/postgresql/data

volumes:
  postgres_data:
```

### Sherpa.sh

Deploy to Sherpa.sh for a cost-effective solution with excellent performance.

[Learn more about deploying to Sherpa.sh](/going-to-production/sherpa)

#### Deployment Steps

1. **Go to sherpa.sh** and create a new account
2. **Link your GitHub repository**
3. **Configure build settings** for StackForge
4. **Set environment variables** in the Sherpa.sh dashboard
5. **Deploy your application**

### VPS Deployment

Deploy to a VPS for maximum control over your infrastructure.

[Learn more about VPS deployment](/going-to-production/vps)

#### Deployment Steps

1. **Create a VPS instance** with your preferred provider
2. **Install Docker** on your VPS
3. **Clone your repository** to the VPS
4. **Configure environment variables**
5. **Build and run** your application with Docker

## Platform Comparison

| Platform         | Pros                                               | Cons                                | Best For                                    |
| ---------------- | -------------------------------------------------- | ----------------------------------- | ------------------------------------------- |
| Vercel           | Best performance, excellent DX, built-in analytics | Can be expensive at scale           | Production apps, startups                   |
| Cloudflare Pages | Cost-effective, good performance                   | Limited features compared to Vercel | Budget-conscious projects                   |
| Docker           | Maximum flexibility, portable                      | More complex setup                  | Enterprise deployments                      |
| Sherpa.sh        | Cost-effective, simple setup                       | Smaller ecosystem                   | Budget-conscious projects                   |
| VPS              | Maximum control, custom configuration              | Requires infrastructure management  | Enterprise deployments, custom requirements |

## Performance Considerations

### CDN Configuration

All deployment platforms offer CDN capabilities:

1. **Static Assets**: Enable CDN for images, CSS, and JavaScript
2. **API Caching**: Implement caching strategies for API responses
3. **Database Caching**: Use Redis or similar for database query caching

### Image Optimization

Take advantage of platform-specific image optimization:

```ts
// src/components/global/image-optimizer.tsx
import Image from 'next/image';

export function OptimizedImage({ src, alt, width, height }: { src: string; alt: string; width: number; height: number }) {
  return (
    <Image
      src={src}
      alt={alt}
      width={width}
      height={height}
      quality={75}
      placeholder="blur"
      blurDataURL="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVR42mP8/5+hHgAHggJ/PchI7wAAAABJRU5ErkJggg=="
    />
  );
}
```

### Serverless Function Optimization

Optimize your API routes for performance:

```ts
// src/app/api/posts/route.ts
import { NextResponse } from 'next/server';
import { unstable_cache } from 'next/cache';

export async function GET() {
  const getCachedPosts = unstable_cache(
    async () => {
      // Fetch posts from database
      const posts = await fetchPosts();
      return posts;
    },
    ['posts'],
    { revalidate: 60 } // Cache for 1 minute
  );

  const posts = await getCachedPosts();
  return NextResponse.json(posts);
}
```

## Monitoring and Analytics

### Vercel Analytics

If deploying to Vercel, enable built-in analytics:

```bash
bun add @vercel/analytics
```

```tsx
// src/components/global/providers.tsx
'use client';
import { Analytics } from '@vercel/analytics/react';

export function Providers({ children }: { children: React.ReactNode }) {
  return (
    <>
      {children}
      <Analytics />
    </>
  );
}
```

### Third-Party Monitoring

Consider adding third-party monitoring:

```env
# Monitoring
NEXT_PUBLIC_POSTHOG_KEY=phc_XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX
NEXT_PUBLIC_SENTRY_DSN=https://XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX@sentry.io/XXXXXXX
```

## CI/CD Integration

### GitHub Actions

Set up continuous deployment with GitHub Actions:

```yaml
# .github/workflows/deploy.yml
name: Deploy to Production

on:
  push:
    branches: [main]

jobs:
  deploy:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v3
      - uses: oven-sh/setup-bun@v1
      - run: bun install
      - run: bun run build
      - name: Deploy to Vercel
        uses: amondnet/vercel-action@v25
        with:
          vercel-token: ${{ secrets.VERCEL_TOKEN }}
          vercel-org-id: ${{ secrets.VERCEL_ORG_ID }}
          vercel-project-id: ${{ secrets.VERCEL_PROJECT_ID }}
          vercel-args: '--prod'
```

### Environment Branching

Use different environments for different branches:

```yaml
# Deploy to staging for feature branches
on:
  push:
    branches: [feature/*, staging]

# Deploy to production for main branch
on:
  push:
    branches: [main]
```

## Security Considerations

### HTTPS Enforcement

Ensure HTTPS is enforced on all platforms:

```ts
// src/middleware.ts
import { NextResponse } from 'next/server';

export function middleware(request: Request) {
  const url = new URL(request.url);

  // Redirect HTTP to HTTPS in production
  if (process.env['NODE_ENV'] === 'production' && url.protocol === 'http:') {
    return NextResponse.redirect(`https://${url.hostname}${url.pathname}`, 301);
  }

  return NextResponse.next();
}
```

### Security Headers

Configure security headers for your deployment platform:

```ts
// next.config.mjs
export default {
  async headers() {
    return [
      {
        source: '/(.*)',
        headers: [
          {
            key: 'X-Frame-Options',
            value: 'DENY',
          },
          {
            key: 'X-Content-Type-Options',
            value: 'nosniff',
          },
          {
            key: 'Referrer-Policy',
            value: 'strict-origin-when-cross-origin',
          },
        ],
      },
    ];
  },
};
```

## Next Steps

<CardGroup cols={2}>

<Card
  title="Database Setup"
  icon="database"
  href="/going-to-production/database-setup"
>
  Configure your production database
</Card>

<Card
  title="Production Checklist"
  icon="check-circle"
  href="/going-to-production/production-checklist"
>
  Complete the production checklist
</Card>

</CardGroup>
